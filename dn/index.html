<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
	<!-- Mobile Specific Meta -->

		<script src="../js/vendor/jquery-2.2.4.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>Domains & more...</title>

	<link href="https://fonts.googleapis.com/css?family=Poppins:300,500,600,900" rel="stylesheet">
		<!--
		CSS
		============================================= -->
		<link rel="stylesheet" href="../css/linearicons.css">
		<link rel="stylesheet" href="../css/font-awesome.min.css">
		<link rel="stylesheet" href="../css/nice-select.css">
		<link rel="stylesheet" href="../css/magnific-popup.css">
		<link rel="stylesheet" href="../css/bootstrap.css">
		<link rel="stylesheet" href="../css/main.css">
	</head>
	<body>
		<div class="main-wrapper-first relative">
			<header>
				<div class="container">
					<div class="header-wrap">
						<div class="header-top d-flex justify-content-between align-items-center">
							<div class="logo">
							</div>
							<div class="main-menubar d-flex align-items-center">
								<nav class="hide">
									<a href="../index.html">Home</a>
									<a href="../transact.html">Secure Transactions</a>
									<a href="../index.html#about">About Us</a>
								</nav>
								<div class="menu-bar"><span class="lnr lnr-menu"></span></div>
							</div>
						</div>
					</div>
				</div>
			</header>
			<div class="banner-area">
				<div class="container">
					<div class="row justify-content-center height align-items-center">
						<div class="col-lg-8">
							<div class="banner-content text-center">
								<h1 class="text-uppercase"><span style="color:#fff">Domains</span> <br> & More</h1>
							</div>
						</div>
					</div>
				</div>
			</div>


            <!-- Start Subscription Area -->
			<section class="subscription-area">
				<div class="container">

					<div class="row justify-content-center">
					<div class="col-lg-8">

					<div id="status-msg" style="font-weight:bolder" class="alert alert-warning" role="alert">
						Hi, we are processing your request...
					</div>
					</div>
					</div>

					<div id="contact" style="display:none" class="row justify-content-center">
					<div class="col-lg-8">


								 <form name="contact" class="subscription">
								  <div class="form-group">
									 <input type="text" name="name"  class="form-control" id="name" placeholder="Your Name">
								  </div>
								  <div class="form-group">
									 <input type="email" name="email"  class="form-control" id="email" placeholder="Your Email">
								  </div>
								  <div class="form-group">
									 <input type="number" min="0" name="phone" id="phone"  class="form-control" placeholder="Your Phone">
								  </div>

								  <div class="form-group">
									 <input type="text" min="0" name="message" id="message"  class="form-control" placeholder="Your message">
								  </div>

								  <div class="form-group">
									 <input type="text" min="0" name="domainname" id="domainname" hidden>
								  </div>
								  <div class="">
									 <button  id="contactus" type="submit" class="btn btn-warning">Send mesage</button>
								  </div>
							   </form>

						</div>
						</div>

					<div id="search" class="row justify-content-center">
						<div class="col-lg-8">

							<div class="section-title text-center">
								<p class="mb-0 mt-10">Search from 1M+ premium domain names... </p>
							</div>
						</div>


						<div class="col-lg-6">
							<div id="mc_embed_signup">
								<form novalidate action="" method="get" class="subscription relative">
									<input type="text" name="q" placeholder="Enter a domain name eg ILoveChicago.com" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter a domain name eg ILoveChicago.com'" required>
									<button class="primary-btn"><span>Search</span><span class="lnr lnr-arrow-right"></span></button>
									<div class="info"></div>
								</form>
							</div>
						</div>
					</div>

				</div>
			</section>
		</div>
		<div class="main-wrapper">



			<!-- Start footer Area -->
			<footer class="footer-area">
				<div class="container">
					<div class="footer-content d-flex flex-column align-items-center">
						<div class="footer-menu">
							<a href="../index.html">Home</a>
							<a href="../transact.html">Secure Transactions</a>
							<a href="../index.html#about">About Us</a>
						</div>
						<div style="color:#999" class="footer-social text-center">
							Powered by
							<br>
							<a href="https://chimbel.com" target="_blank">CHIMBEL</a>
							<br>
							t: +1650-2397232  a: #108, 650 Castro St, Mountain View, CA
						</div>
					</div>
				</div>
			</footer>
			<!-- End footer Area -->
		</div>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1944294-10"></script>
  <script>
	function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,
    function(m,key,value) {
      vars[key] = value;
    });
    return vars;
  }



	async function fetchAsync (url) {
	  // await response of fetch call
	  let response = await fetch(url);
	  // only proceed once promise is resolved
	  let data = await response.json();
	  // only proceed once second promise is resolved
	  return data;
	}

	function handle_error(err) {
			console.log(err);
			document.getElementById("status-msg").innerHTML = 'Our server is down at the moment! Please try again later'
	}

	function handle_response(response) {
			console.log(response);

			if(response.hasOwnProperty('dn')) {
				document.getElementById("status-msg").innerHTML = "Please fill the form below to enquire about " + response['dn']
				document.getElementById("contact").style.display = ""
				document.getElementById("domainname").value = response['dn']
			} else {
				document.getElementById("status-msg").innerHTML = "We did not find any domain related to your query : " + response['q']
			}
	}

var $ = jQuery;
$('#contactus').on('click', function (e) {
e.preventDefault();


	//var posting = $.post( 'http://localhost:5000/contact' , {
	var posting = $.post( 'https://go.' +  window.location.hostname.split('.').slice(-2).join('.') + '/contact' , {
			name: document.getElementById("name").value,
			email: document.getElementById("email").value,
			phone: document.getElementById("phone").value,
			message: document.getElementById("message").value,
			domainname: document.getElementById("domainname").value,
	 } );

  // Put the results in a div
  posting.done(function( data ) {
  		document.getElementById("status-msg").innerHTML = "Your message has been received, we will get back to you in 2 business days"
		document.getElementById("contact").style.display = "none"
  }).fail(function() {
  document.getElementById("status-msg").innerHTML = "Our mail server is down right now, please email us at - domains@" + window.location.hostname.split('.').slice(-2).join('.')
  document.getElementById("contact").style.display = "none"
  });

});


	var params = getUrlVars();
	console.log(params)

	if(params.hasOwnProperty('q')) {
          window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		  gtag('config', 'UA-1944294-10');

		fetchAsync('https://go.' +  window.location.hostname.split('.').slice(-2).join('.') + '/dn?q=' + params['q'])
		//fetchAsync('http://localhost:5000/dn?q=' + params['q'])
				.then(data => handle_response(data))
				.catch(reason => handle_error(reason))
	}
	</script>



		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<script src="../js/vendor/bootstrap.min.js"></script>
		<script src="../js/jquery.nice-select.min.js"></script>
		<script src="../js/jquery.magnific-popup.min.js"></script>
		<script src="../js/main.js"></script>
	</body>
</html>
